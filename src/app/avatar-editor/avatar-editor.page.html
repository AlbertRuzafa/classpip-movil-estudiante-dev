<ion-header class="juegos-header">
  <ion-toolbar class="header-toolbar">
    <ion-buttons slot="start">
      <ion-back-button class="menu-btn"></ion-back-button>
    </ion-buttons>
    <ion-title>Mi Avatar</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="editoravatar-content" #content>
  <img class="logo" src="../../assets/img/avataricon.svg" width="100px">
  <p> <b> Bienvenido a tu editor de AVATAR </b> <br> aquí podrás editar tus familias <br>
    de avatar al gusto</p>

  <p>Aquí están las familias activas en este juego</p>

  <mat-accordion>
    <mat-expansion-panel *ngFor="let familia of familiasDelJuego">
      <mat-expansion-panel-header>
        <b> {{familia.NombreFamilia}} </b>
      </mat-expansion-panel-header>
      <ion-button (click)="TraeImagenesFamilia(familia)"> CREAR </ion-button>
    </mat-expansion-panel>
  </mat-accordion>
  <ion-row style="height: 20px"></ion-row>
  <div *ngIf="FamiliaSeleccionada">
    <div id="ImagenAvatar" style="display: flex; width: 300px; height: 324px; margin: auto;">
      <img #img id="silueta" [src]="imagenSilueta" style="position: relative; z-index: 0;">
    </div>

    <div *ngIf="familiaElegida">
      <ion-segment [(ngModel)]="Tipo" #segment>
        <ion-segment-button value="comp1">
          {{familiaElegida.NombreComplemento1}}
        </ion-segment-button>
        <ion-segment-button value="comp2">
          {{familiaElegida.NombreComplemento2}}
        </ion-segment-button>
        <ion-segment-button value="comp3">
          {{familiaElegida.NombreComplemento3}}
        </ion-segment-button>
        <ion-segment-button value="comp4">
          {{familiaElegida.NombreComplemento4}}
        </ion-segment-button>
      </ion-segment>
    </div>

    <div class="complementos-segmento">
      <div [ngSwitch]="Tipo" style="overflow-x: auto;">
        <ng-container *ngSwitchCase="'comp1'">
          <div *ngIf="privilegiosalumno[0] === true; else elseBlock">
            <div *ngFor="let elem of c1; let i = index" class="elementos-complemento">
              <ion-card class="elemento-card">
                <img [src]="imagenSilueta" style="position: absolute; z-index: 0; opacity: 0.2;">
                <img [src]="elem" tappable (click)="Muestra(elem, 1, i)" style="position: absolute; z-index: 1;">
              </ion-card>
            </div>
          </div>
        </ng-container>
      </div>

      <div [ngSwitch]="Tipo" style="overflow-x: auto;">
        <ng-container *ngSwitchCase="'comp2'">
          <div *ngIf="privilegiosalumno[1] === true; else elseBlock">
            <div *ngFor="let elem of c2; let i = index" class="elementos-complemento">
              <ion-card class="elemento-card">
                <img [src]="imagenSilueta" style="position: absolute; z-index: 0; opacity: 0.2;">
                <img [src]="elem" tappable (click)="Muestra(elem, 2, i)" style="position: absolute; z-index: 1;">
              </ion-card>
            </div>            
          </div>
        </ng-container>
      </div>
      <div [ngSwitch]="Tipo" style="overflow-x: auto;">
        <ng-container *ngSwitchCase="'comp3'">
          <div *ngIf="privilegiosalumno[2] === true; else elseBlock">
            <div *ngFor="let elem of c3; let i = index"
              class="elementos-complemento">
              <ion-card class="elemento-card">
                <img [src]="imagenSilueta" style="position: absolute; z-index: 0; opacity: 0.2;">
                <img [src]="elem" tappable (click)="Muestra(elem, 3, i)" style="position: absolute; z-index: 1;">
              </ion-card>
            </div>            
          </div>
        </ng-container>
      </div>
      <div [ngSwitch]="Tipo" style="overflow-x: auto;">
        <ng-container *ngSwitchCase="'comp4'">
          <div *ngIf="privilegiosalumno[3] === true; else elseBlock">
            <div *ngFor="let elem of c4; let i = index"
              class="elementos-complemento">
              <ion-card class="elemento-card">
                <img [src]="imagenSilueta" style="position: absolute; z-index: 0; opacity: 0.2;">
                <img [src]="elem" tappable (click)="Muestra(elem, 4, i)" style="position: absolute; z-index: 1;">
              </ion-card>
            </div>            
          </div>
        </ng-container>
      </div>
      <ng-template #elseBlock>
        <h2 style="margin: auto; font-size: 16px; margin-top: 0px;">
          no tienes este privilegio</h2>
      </ng-template>
    </div>
  </div>

</ion-content>